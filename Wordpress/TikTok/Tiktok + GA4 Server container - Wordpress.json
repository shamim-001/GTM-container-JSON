{
    "exportFormatVersion": 2,
    "exportTime": "2025-11-11 01:36:54",
    "containerVersion": {
        "path": "accounts/6316794338/containers/232065622/versions/17",
        "accountId": "6316794338",
        "containerId": "232065622",
        "containerVersionId": "17",
        "name": "Tiktok + GA4",
        "container": {
            "path": "accounts/6316794338/containers/232065622",
            "accountId": "6316794338",
            "containerId": "232065622",
            "name": "server/dhaka-store",
            "publicId": "GTM-P629KB55",
            "usageContext": [
                "SERVER"
            ],
            "fingerprint": "1760089435651",
            "tagManagerUrl": "https://tagmanager.google.com/#/container/accounts/6316794338/containers/232065622/workspaces?apiLink=container",
            "features": {
                "supportUserPermissions": true,
                "supportEnvironments": true,
                "supportWorkspaces": true,
                "supportGtagConfigs": false,
                "supportBuiltInVariables": true,
                "supportClients": true,
                "supportFolders": true,
                "supportTags": true,
                "supportTemplates": true,
                "supportTriggers": true,
                "supportVariables": true,
                "supportVersions": true,
                "supportZones": true,
                "supportTransformations": true
            },
            "tagIds": [
                "GTM-P629KB55"
            ],
            "taggingServerUrls": [
                "https://qafhwjgp.ina.stape.io"
            ]
        },
        "tag": [
            {
                "accountId": "6316794338",
                "containerId": "232065622",
                "tagId": "30",
                "name": "TikTok Events API",
                "type": "cvt_K8M24",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "logType",
                        "value": "debug"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "adStorageConsent",
                        "value": "optional"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "pixelId",
                        "value": "{{TikTok Pixel ID*}}"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "generateTtp",
                        "value": "false"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "useOptimisticScenario",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "testEventCode",
                        "value": "TEST19422"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "bigQueryLogType",
                        "value": "no"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "eventSource",
                        "value": "web"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "limitedDataUse",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "eventType",
                        "value": "inherit"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "accessToken",
                        "value": "{{TikTok Access Tocken}}"
                    }
                ],
                "fingerprint": "1761639993441",
                "firingTriggerId": [
                    "26"
                ],
                "tagFiringOption": "ONCE_PER_EVENT",
                "monitoringMetadata": {
                    "type": "MAP"
                },
                "consentSettings": {
                    "consentStatus": "NOT_SET"
                }
            },
            {
                "accountId": "6316794338",
                "containerId": "232065622",
                "tagId": "34",
                "name": "Google Analytics GA4",
                "type": "sgtmgaaw",
                "parameter": [
                    {
                        "type": "BOOLEAN",
                        "key": "redactVisitorIp",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "epToIncludeDropdown",
                        "value": "all"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "upToIncludeDropdown",
                        "value": "all"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "measurementId",
                        "value": "{{Measurement ID*}}"
                    }
                ],
                "fingerprint": "1761711067456",
                "firingTriggerId": [
                    "33"
                ],
                "tagFiringOption": "ONCE_PER_EVENT",
                "monitoringMetadata": {
                    "type": "MAP"
                },
                "consentSettings": {
                    "consentStatus": "NOT_SET"
                }
            }
        ],
        "trigger": [
            {
                "accountId": "6316794338",
                "containerId": "232065622",
                "triggerId": "26",
                "name": "TikTok Events Trigger",
                "type": "ALWAYS",
                "filter": [
                    {
                        "type": "MATCH_REGEX",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{Event Name}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "^(page_view|view_item|add_to_cart|begin_checkout|purchase|generate_lead)$"
                            }
                        ]
                    }
                ],
                "fingerprint": "1761639440332"
            },
            {
                "accountId": "6316794338",
                "containerId": "232065622",
                "triggerId": "33",
                "name": "GA4 Client",
                "type": "ALWAYS",
                "filter": [
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{Client Name}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "GA4"
                            }
                        ]
                    }
                ],
                "fingerprint": "1761711057770"
            }
        ],
        "variable": [
            {
                "accountId": "6316794338",
                "containerId": "232065622",
                "variableId": "24",
                "name": "TikTok Pixel ID*",
                "type": "c",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "value",
                        "value": "D401AB3C77U8M912VRKG"
                    }
                ],
                "fingerprint": "1761639292423",
                "parentFolderId": "22",
                "formatValue": {}
            },
            {
                "accountId": "6316794338",
                "containerId": "232065622",
                "variableId": "29",
                "name": "TikTok Access Tocken",
                "type": "c",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "value",
                        "value": "aad2011ab6b155e8f85c12aa6fcb84b595cfebaa"
                    }
                ],
                "fingerprint": "1761639916837",
                "parentFolderId": "22",
                "formatValue": {}
            },
            {
                "accountId": "6316794338",
                "containerId": "232065622",
                "variableId": "32",
                "name": "Measurement ID*",
                "type": "c",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "value",
                        "value": "G-5ZGCP8ZGMQ"
                    }
                ],
                "fingerprint": "1761710999612",
                "parentFolderId": "22",
                "formatValue": {}
            }
        ],
        "folder": [
            {
                "accountId": "6316794338",
                "containerId": "232065622",
                "folderId": "22",
                "name": "config variables",
                "fingerprint": "1760691130370"
            }
        ],
        "builtInVariable": [
            {
                "accountId": "6316794338",
                "containerId": "232065622",
                "type": "EVENT_NAME",
                "name": "Event Name"
            },
            {
                "accountId": "6316794338",
                "containerId": "232065622",
                "type": "CLIENT_NAME",
                "name": "Client Name"
            }
        ],
        "fingerprint": "1761711570804",
        "tagManagerUrl": "https://tagmanager.google.com/#/versions/accounts/6316794338/containers/232065622/versions/17?apiLink=version",
        "customTemplate": [
            {
                "accountId": "6316794338",
                "containerId": "232065622",
                "templateId": "28",
                "name": "TikTok Events API",
                "fingerprint": "1761639674694",
                "templateData": "___TERMS_OF_SERVICE___\n\nBy creating or modifying this file you agree to Google Tag Manager's Community\nTemplate Gallery Developer Terms of Service available at\nhttps://developers.google.com/tag-manager/gallery-tos (or such other URL as\nGoogle may provide), as modified from time to time.\n\n\n___INFO___\n\n{\n  \"type\": \"TAG\",\n  \"id\": \"cvt_K8M24\",\n  \"version\": 1,\n  \"displayName\": \"TikTok Events API\",\n  \"categories\": [\n    \"ADVERTISING\",\n    \"ANALYTICS\",\n    \"CONVERSIONS\",\n    \"MARKETING\",\n    \"REMARKETING\"\n  ],\n  \"brand\": {\n    \"id\": \"github.com_stape-io\",\n    \"displayName\": \"stape-io\",\n    \"thumbnail\": \"data:image/png;base64,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HABASjIOACAlGQcAkJKMAwBIScYBAKQk4wAAUpJxAAApyTgAgJRkHABASjIOACAlGQcAkJKMAwBIScYBAKQk4wAAUpJxAAApyTgAgJRkHABASjIOACAlGQcAkJKMAwBIScYBAKQk4wAAUpJxAAApyTgAgJRkHABASjIOACAlGQcAkJKMAwBIScYBAKQk4wAAUpJxAAApyTgAgJRkHABASjIOACAlGQcAkJKMAwBIScYBAKQk4wAAUpJxAAApyTgAgJRkHABASjIOACAlGQcAkJKMAwBIScYBAKQk4wAAUpJxAAApyTgAgJRkHABASjIOACAlGQcAkJKMAwBIScYBAKQk4wAAUpJxAAApyTgAgJRkHABASjIOACAlGQcAkJKMAwBIScYBAKQk4wAAUpJxAAApyTgAgJRkHABASjIOACAlGQcAkJKMAwBIScYBAKQk4wAAUpJxAAApyTgAgJRkHABASjIOACAlGQcAkJKMAwBIScYBAKQk4wAAUpJxAAApyTgAgJRkHABASjIOACAlGQcAkJKMAwBIScYBAKQk4wAAUpJxAAApyTgAgJRkHABASjIOACAlGQcAkJKMAwBIScYBAKQk4wAAUpJxAAApyTgAgJRkHABASjIOACClV86fP181AwDA7lIUxf8A/d26PBdp9woAAAAASUVORK5CYII\\u003d\"\n  },\n  \"description\": \"Tag that send the event data from the Universal Analytics/GA4/Data client to TikTok Events API.\",\n  \"containerContexts\": [\n    \"SERVER\"\n  ]\n}\n\n\n___TEMPLATE_PARAMETERS___\n\n[\n  {\n    \"type\": \"RADIO\",\n    \"name\": \"eventType\",\n    \"displayName\": \"Event Name Setup Method\",\n    \"radioItems\": [\n      {\n        \"value\": \"standard\",\n        \"displayValue\": \"Standard\",\n        \"subParams\": [\n          {\n            \"type\": \"SELECT\",\n            \"name\": \"eventName\",\n            \"macrosInSelect\": false,\n            \"selectItems\": [\n              {\n                \"value\": \"AddPaymentInfo\",\n                \"displayValue\": \"Add Payment Info\"\n              },\n              {\n                \"value\": \"AddToCart\",\n                \"displayValue\": \"Add to Cart\"\n              },\n              {\n                \"value\": \"AddToWishlist\",\n                \"displayValue\": \"Add to Wishlist\"\n              },\n              {\n                \"value\": \"ApplicationApproval\",\n                \"displayValue\": \"Application Approval\"\n              },\n              {\n                \"value\": \"CompleteRegistration\",\n                \"displayValue\": \"Complete Registration\"\n              },\n              {\n                \"value\": \"Contact\",\n                \"displayValue\": \"Contact\"\n              },\n              {\n                \"value\": \"CustomizeProduct\",\n                \"displayValue\": \"Customize Product\"\n              },\n              {\n                \"value\": \"Download\",\n                \"displayValue\": \"Download\"\n              },\n              {\n                \"value\": \"FindLocation\",\n                \"displayValue\": \"Find Location\"\n              },\n              {\n                \"value\": \"InitiateCheckout\",\n                \"displayValue\": \"Initiate Checkout\"\n              },\n              {\n                \"value\": \"Lead\",\n                \"displayValue\": \"Lead\"\n              },\n              {\n                \"value\": \"Pageview\",\n                \"displayValue\": \"Page View\"\n              },\n              {\n                \"value\": \"Purchase\",\n                \"displayValue\": \"Purchase\"\n              },\n              {\n                \"value\": \"Schedule\",\n                \"displayValue\": \"Schedule\"\n              },\n              {\n                \"value\": \"Search\",\n                \"displayValue\": \"Search\"\n              },\n              {\n                \"value\": \"StartTrial\",\n                \"displayValue\": \"Start Trial\"\n              },\n              {\n                \"value\": \"SubmitApplication\",\n                \"displayValue\": \"Submit Application\"\n              },\n              {\n                \"value\": \"Subscribe\",\n                \"displayValue\": \"Subscribe\"\n              },\n              {\n                \"value\": \"ViewContent\",\n                \"displayValue\": \"View Content\"\n              },\n              {\n                \"value\": \"CompletePayment\",\n                \"displayValue\": \"Complete Payment (legacy - Use Purchase instead)\"\n              },\n              {\n                \"value\": \"SubmitForm\",\n                \"displayValue\": \"Submit Form (legacy - Use Lead instead)\"\n              },\n              {\n                \"value\": \"ClickButton\",\n                \"displayValue\": \"Click Button (deprecated)\"\n              },\n              {\n                \"value\": \"PlaceAnOrder\",\n                \"displayValue\": \"Place an Order (deprecated)\"\n              }\n            ],\n            \"simpleValueType\": true,\n            \"alwaysInSummary\": true,\n            \"valueValidators\": [\n              {\n                \"type\": \"NON_EMPTY\"\n              }\n            ],\n            \"displayName\": \"Event Name\",\n            \"defaultValue\": \"Pageview\"\n          }\n        ]\n      },\n      {\n        \"value\": \"inherit\",\n        \"subParams\": [],\n        \"displayValue\": \"Inherit from client\"\n      },\n      {\n        \"value\": \"custom\",\n        \"subParams\": [\n          {\n            \"type\": \"TEXT\",\n            \"name\": \"eventNameCustom\",\n            \"displayName\": \"\",\n            \"simpleValueType\": true\n          }\n        ],\n        \"displayValue\": \"Custom\"\n      }\n    ],\n    \"simpleValueType\": true,\n    \"defaultValue\": \"standard\"\n  },\n  {\n    \"type\": \"SELECT\",\n    \"name\": \"eventSource\",\n    \"displayName\": \"Event Source\",\n    \"selectItems\": [\n      {\n        \"value\": \"web\",\n        \"displayValue\": \"Web\"\n      },\n      {\n        \"value\": \"app\",\n        \"displayValue\": \"App\"\n      },\n      {\n        \"value\": \"offline\",\n        \"displayValue\": \"Offline\"\n      }\n    ],\n    \"simpleValueType\": true,\n    \"defaultValue\": \"web\"\n  },\n  {\n    \"type\": \"TEXT\",\n    \"name\": \"accessToken\",\n    \"displayName\": \"Access Token\",\n    \"simpleValueType\": true,\n    \"help\": \"Set to your TikTok API Access Token. More info on how to get it can be found \\u003ca href\\u003d\\\"https://ads.tiktok.com/marketing_api/docs?rid\\u003d959icq5stjr\\u0026id\\u003d1701890979375106\\\" target\\u003d\\\"_blank\\\"\\u003ehere\\u003c/a\\u003e.\",\n    \"valueValidators\": [\n      {\n        \"type\": \"NON_EMPTY\"\n      }\n    ]\n  },\n  {\n    \"type\": \"TEXT\",\n    \"name\": \"pixelId\",\n    \"displayName\": \"TikTok Pixel ID / Offline Event Set ID / TikTok App ID\",\n    \"simpleValueType\": true,\n    \"valueValidators\": [\n      {\n        \"type\": \"NON_EMPTY\"\n      }\n    ],\n    \"help\": \"For \\u003cb\\u003eWeb events\\u003c/b\\u003e, enter a valid \\u003cb\\u003eTikTok Pixel ID\\u003c/b\\u003e. Only one TikTok Pixel ID can be used per tag.\\n\\u003cbr\\u003e\\nFor \\u003cb\\u003eOffline events\\u003c/b\\u003e, provide the \\u003cb\\u003eOffline Event Set ID\\u003c/b\\u003e. Only one Offline Event Set ID can be used per tag.\\n\\u003cbr\\u003e\\nFor \\u003cb\\u003eApp events\\u003c/b\\u003e, enter the \\u003cb\\u003eTikTok App ID\\u003c/b\\u003e. Only one Offline TikTok App ID can be used per tag.\"\n  },\n  {\n    \"type\": \"TEXT\",\n    \"name\": \"appId\",\n    \"displayName\": \"Mobile App ID\",\n    \"simpleValueType\": true,\n    \"enablingConditions\": [\n      {\n        \"paramName\": \"eventSource\",\n        \"paramValue\": \"app\",\n        \"type\": \"EQUALS\"\n      }\n    ],\n    \"valueValidators\": [\n      {\n        \"type\": \"NON_EMPTY\"\n      }\n    ]\n  },\n  {\n    \"type\": \"TEXT\",\n    \"name\": \"testEventCode\",\n    \"displayName\": \"Test Event Code\",\n    \"simpleValueType\": true,\n    \"help\": \"If you want to test event tracking, you can use this field to specify a test code. If the event is received on TikTok side, this test code will display in the Test Events tab of the Pixel in TikTok Ads Manager.\"\n  },\n  {\n    \"type\": \"CHECKBOX\",\n    \"name\": \"generateTtp\",\n    \"checkboxText\": \"Generate _ttp cookie if not exist\",\n    \"simpleValueType\": true\n  },\n  {\n    \"type\": \"CHECKBOX\",\n    \"name\": \"useOptimisticScenario\",\n    \"checkboxText\": \"Use Optimistic Scenario\",\n    \"simpleValueType\": true,\n    \"help\": \"The tag will call gtmOnSuccess() without waiting for a response from the API\"\n  },\n  {\n    \"displayName\": \"Common Event Data Override\",\n    \"name\": \"commonEventDataListGroup\",\n    \"groupStyle\": \"ZIPPY_CLOSED\",\n    \"type\": \"GROUP\",\n    \"subParams\": [\n      {\n        \"type\": \"TEXT\",\n        \"name\": \"eventId\",\n        \"displayName\": \"Event ID\",\n        \"simpleValueType\": true\n      },\n      {\n        \"type\": \"TEXT\",\n        \"name\": \"eventTime\",\n        \"displayName\": \"Event Time\",\n        \"simpleValueType\": true\n      },\n      {\n        \"type\": \"CHECKBOX\",\n        \"name\": \"limitedDataUse\",\n        \"checkboxText\": \"Limited Data Use\",\n        \"simpleValueType\": true,\n        \"help\": \"To learn more about the Limited Data Use feature, refer to \\u003ca href\\u003d\\\"https://ads.tiktok.com/marketing_api/docs?id\\u003d1771101204435970\\\" target\\u003d\\\"_blank\\\"\\u003eEvents API 2.0 - Limited Data Use\\u003c/a\\u003e.\",\n        \"defaultValue\": false\n      }\n    ]\n  },\n  {\n    \"type\": \"GROUP\",\n    \"name\": \"pageDataListGroup\",\n    \"displayName\": \"Page Data\",\n    \"groupStyle\": \"ZIPPY_CLOSED\",\n    \"subParams\": [\n      {\n        \"type\": \"TEXT\",\n        \"name\": \"pageLocation\",\n        \"displayName\": \"Page Location\",\n        \"simpleValueType\": true\n      },\n      {\n        \"type\": \"TEXT\",\n        \"name\": \"pageReferrer\",\n        \"displayName\": \"Page Referrer\",\n        \"simpleValueType\": true\n      }\n    ],\n    \"enablingConditions\": [\n      {\n        \"paramName\": \"eventSource\",\n        \"paramValue\": \"web\",\n        \"type\": \"EQUALS\"\n      }\n    ]\n  },\n  {\n    \"type\": \"GROUP\",\n    \"name\": \"appDataListGroup\",\n    \"displayName\": \"App Data\",\n    \"groupStyle\": \"ZIPPY_CLOSED\",\n    \"subParams\": [\n      {\n        \"type\": \"TEXT\",\n        \"name\": \"appName\",\n        \"displayName\": \"Application name\",\n        \"simpleValueType\": true\n      },\n      {\n        \"type\": \"TEXT\",\n        \"name\": \"appVersion\",\n        \"displayName\": \"App version number\",\n        \"simpleValueType\": true\n      }\n    ],\n    \"enablingConditions\": [\n      {\n        \"paramName\": \"eventSource\",\n        \"paramValue\": \"app\",\n        \"type\": \"EQUALS\"\n      }\n    ]\n  },\n  {\n    \"displayName\": \"Ad Data\",\n    \"name\": \"adDataListGroup\",\n    \"groupStyle\": \"ZIPPY_CLOSED\",\n    \"type\": \"GROUP\",\n    \"subParams\": [\n      {\n        \"name\": \"adDataList\",\n        \"simpleTableColumns\": [\n          {\n            \"valueValidators\": [\n              {\n                \"type\": \"NON_EMPTY\"\n              }\n            ],\n            \"defaultValue\": \"ad_id\",\n            \"displayName\": \"Property Name\",\n            \"name\": \"name\",\n            \"isUnique\": true,\n            \"type\": \"SELECT\",\n            \"selectItems\": [\n              {\n                \"value\": \"callback\",\n                \"displayValue\": \"Callback\"\n              },\n              {\n                \"value\": \"campaign_id\",\n                \"displayValue\": \"Campaign ID\"\n              },\n              {\n                \"value\": \"ad_id\",\n                \"displayValue\": \"Ad ID\"\n              },\n              {\n                \"value\": \"creative_id\",\n                \"displayValue\": \"Creative ID\"\n              },\n              {\n                \"value\": \"is_retargeting\",\n                \"displayValue\": \"Is Retargeting\"\n              },\n              {\n                \"value\": \"attributed\",\n                \"displayValue\": \"Attributed\"\n              },\n              {\n                \"value\": \"attribution_type\",\n                \"displayValue\": \"Attribution Type\"\n              },\n              {\n                \"value\": \"attribution_provider\",\n                \"displayValue\": \"Attribution Provider\"\n              }\n            ]\n          },\n          {\n            \"defaultValue\": \"\",\n            \"displayName\": \"Property Value\",\n            \"name\": \"value\",\n            \"type\": \"TEXT\"\n          }\n        ],\n        \"type\": \"SIMPLE_TABLE\",\n        \"newRowButtonText\": \"Add property\"\n      }\n    ],\n    \"enablingConditions\": [\n      {\n        \"paramName\": \"eventSource\",\n        \"paramValue\": \"app\",\n        \"type\": \"EQUALS\"\n      }\n    ]\n  },\n  {\n    \"displayName\": \"User Data\",\n    \"name\": \"userDataListGroup\",\n    \"groupStyle\": \"ZIPPY_CLOSED\",\n    \"type\": \"GROUP\",\n    \"subParams\": [\n      {\n        \"name\": \"userDataList\",\n        \"simpleTableColumns\": [\n          {\n            \"valueValidators\": [\n              {\n                \"type\": \"NON_EMPTY\"\n              }\n            ],\n            \"defaultValue\": \"email\",\n            \"displayName\": \"Property Name\",\n            \"name\": \"name\",\n            \"isUnique\": true,\n            \"type\": \"SELECT\",\n            \"selectItems\": [\n              {\n                \"value\": \"email\",\n                \"displayValue\": \"Email\"\n              },\n              {\n                \"value\": \"phone\",\n                \"displayValue\": \"Phone\"\n              },\n              {\n                \"value\": \"external_id\",\n                \"displayValue\": \"External ID\"\n              },\n              {\n                \"value\": \"ip\",\n                \"displayValue\": \"Client IP address\"\n              },\n              {\n                \"value\": \"user_agent\",\n                \"displayValue\": \"Client user agent\"\n              },\n              {\n                \"value\": \"ttclid\",\n                \"displayValue\": \"ttclid\"\n              },\n              {\n                \"value\": \"ttp\",\n                \"displayValue\": \"ttp\"\n              },\n              {\n                \"value\": \"locale\",\n                \"displayValue\": \"Locale\"\n              },\n              {\n                \"value\": \"idfa\",\n                \"displayValue\": \"iOS IDFA\"\n              },\n              {\n                \"value\": \"idfv\",\n                \"displayValue\": \"iOS IDFV\"\n              },\n              {\n                \"value\": \"gaid\",\n                \"displayValue\": \"GAID (Google Advertising ID)\"\n              },\n              {\n                \"value\": \"att_status\",\n                \"displayValue\": \"ATT Status\"\n              },\n              {\n                \"value\": \"first_name\",\n                \"displayValue\": \"First Name\"\n              },\n              {\n                \"value\": \"last_name\",\n                \"displayValue\": \"Last Name\"\n              },\n              {\n                \"value\": \"city\",\n                \"displayValue\": \"City\"\n              },\n              {\n                \"value\": \"state\",\n                \"displayValue\": \"State\"\n              },\n              {\n                \"value\": \"country\",\n                \"displayValue\": \"Country\"\n              },\n              {\n                \"value\": \"zip_code\",\n                \"displayValue\": \"Zip\"\n              }\n            ]\n          },\n          {\n            \"defaultValue\": \"\",\n            \"displayName\": \"Property Value\",\n            \"name\": \"value\",\n            \"type\": \"TEXT\"\n          }\n        ],\n        \"type\": \"SIMPLE_TABLE\",\n        \"newRowButtonText\": \"Add property\"\n      }\n    ],\n    \"help\": \"See \\u003ca href\\u003d\\\"https://ads.tiktok.com/marketing_api/docs?rid\\u003d959icq5stjr\\u0026id\\u003d1701890979375106\\\" target\\u003d\\\"_blank\\\"\\u003ethis documentation\\u003c/a\\u003e for more details on what user data parameters you can add to the call. If the documentation requires the parameter to be hashed, you \\u003cstrong\\u003emust\\u003c/strong\\u003e hash it with SHA256, or the tag will do this automatically before sending the event to TikTok.\"\n  },\n  {\n    \"displayName\": \"Properties\",\n    \"name\": \"customDataListGroup\",\n    \"groupStyle\": \"ZIPPY_CLOSED\",\n    \"type\": \"GROUP\",\n    \"subParams\": [\n      {\n        \"name\": \"customDataList\",\n        \"simpleTableColumns\": [\n          {\n            \"valueValidators\": [\n              {\n                \"type\": \"NON_EMPTY\"\n              }\n            ],\n            \"defaultValue\": \"currency\",\n            \"displayName\": \"Property Name\",\n            \"name\": \"name\",\n            \"isUnique\": true,\n            \"type\": \"SELECT\",\n            \"selectItems\": [\n              {\n                \"value\": \"contents\",\n                \"displayValue\": \"Contents\"\n              },\n              {\n                \"value\": \"currency\",\n                \"displayValue\": \"Currency\"\n              },\n              {\n                \"value\": \"value\",\n                \"displayValue\": \"Value\"\n              },\n              {\n                \"value\": \"description\",\n                \"displayValue\": \"Description\"\n              },\n              {\n                \"value\": \"query\",\n                \"displayValue\": \"Query\"\n              },\n              {\n                \"value\": \"content_type\",\n                \"displayValue\": \"Content Type\"\n              },\n              {\n                \"value\": \"order_id\",\n                \"displayValue\": \"Order ID\"\n              },\n              {\n                \"value\": \"shop_id\",\n                \"displayValue\": \"Shop ID\"\n              }\n            ]\n          },\n          {\n            \"defaultValue\": \"\",\n            \"displayName\": \"Property Value\",\n            \"name\": \"value\",\n            \"type\": \"TEXT\"\n          }\n        ],\n        \"type\": \"SIMPLE_TABLE\",\n        \"newRowButtonText\": \"Add property\"\n      }\n    ],\n    \"help\": \"See \\u003ca href\\u003d\\\"https://ads.tiktok.com/marketing_api/docs?rid\\u003d959icq5stjr\\u0026id\\u003d1701890979375106\\\" target\\u003d\\\"_blank\\\"\\u003ethis documentation\\u003c/a\\u003e for more details on what properties you can add to the event.\"\n  },\n  {\n    \"type\": \"GROUP\",\n    \"name\": \"consentSettingsGroup\",\n    \"displayName\": \"Consent Settings\",\n    \"groupStyle\": \"ZIPPY_CLOSED\",\n    \"subParams\": [\n      {\n        \"type\": \"RADIO\",\n        \"name\": \"adStorageConsent\",\n        \"displayName\": \"\",\n        \"radioItems\": [\n          {\n            \"value\": \"optional\",\n            \"displayValue\": \"Send data always\"\n          },\n          {\n            \"value\": \"required\",\n            \"displayValue\": \"Send data in case marketing consent given\"\n          }\n        ],\n        \"simpleValueType\": true,\n        \"defaultValue\": \"optional\"\n      }\n    ]\n  },\n  {\n    \"type\": \"GROUP\",\n    \"name\": \"logsGroup\",\n    \"displayName\": \"Logs Settings\",\n    \"groupStyle\": \"ZIPPY_CLOSED\",\n    \"subParams\": [\n      {\n        \"type\": \"RADIO\",\n        \"name\": \"logType\",\n        \"radioItems\": [\n          {\n            \"value\": \"no\",\n            \"displayValue\": \"Do not log\"\n          },\n          {\n            \"value\": \"debug\",\n            \"displayValue\": \"Log to console during debug and preview\"\n          },\n          {\n            \"value\": \"always\",\n            \"displayValue\": \"Always log to console\"\n          }\n        ],\n        \"simpleValueType\": true,\n        \"defaultValue\": \"debug\"\n      }\n    ]\n  },\n  {\n    \"displayName\": \"BigQuery Logs Settings\",\n    \"name\": \"bigQueryLogsGroup\",\n    \"groupStyle\": \"ZIPPY_CLOSED\",\n    \"type\": \"GROUP\",\n    \"subParams\": [\n      {\n        \"type\": \"RADIO\",\n        \"name\": \"bigQueryLogType\",\n        \"radioItems\": [\n          {\n            \"value\": \"no\",\n            \"displayValue\": \"Do not log to BigQuery\"\n          },\n          {\n            \"value\": \"always\",\n            \"displayValue\": \"Log to BigQuery\"\n          }\n        ],\n        \"simpleValueType\": true,\n        \"defaultValue\": \"no\"\n      },\n      {\n        \"type\": \"GROUP\",\n        \"name\": \"logsBigQueryConfigGroup\",\n        \"groupStyle\": \"NO_ZIPPY\",\n        \"subParams\": [\n          {\n            \"type\": \"TEXT\",\n            \"name\": \"logBigQueryProjectId\",\n            \"displayName\": \"BigQuery Project ID\",\n            \"simpleValueType\": true,\n            \"help\": \"Optional.  \\u003cbr\\u003e\\u003cbr\\u003e  If omitted, it will be retrieved from the environment variable \\u003cI\\u003eGOOGLE_CLOUD_PROJECT\\u003c/i\\u003e where the server container is running. If the server container is running on Google Cloud, \\u003cI\\u003eGOOGLE_CLOUD_PROJECT\\u003c/i\\u003e will already be set to the Google Cloud project\\u0027s ID.\"\n          },\n          {\n            \"type\": \"TEXT\",\n            \"name\": \"logBigQueryDatasetId\",\n            \"displayName\": \"BigQuery Dataset ID\",\n            \"simpleValueType\": true,\n            \"valueValidators\": [\n              {\n                \"type\": \"NON_EMPTY\"\n              }\n            ]\n          },\n          {\n            \"type\": \"TEXT\",\n            \"name\": \"logBigQueryTableId\",\n            \"displayName\": \"BigQuery Table ID\",\n            \"simpleValueType\": true,\n            \"valueValidators\": [\n              {\n                \"type\": \"NON_EMPTY\"\n              }\n            ]\n          }\n        ],\n        \"enablingConditions\": [\n          {\n            \"paramName\": \"bigQueryLogType\",\n            \"paramValue\": \"always\",\n            \"type\": \"EQUALS\"\n          }\n        ]\n      }\n    ]\n  }\n]\n\n\n___SANDBOXED_JS_FOR_SERVER___\n\nconst getAllEventData = require('getAllEventData');\nconst JSON = require('JSON');\nconst sendHttpRequest = require('sendHttpRequest');\nconst setCookie = require('setCookie');\nconst getCookieValues = require('getCookieValues');\nconst getContainerVersion = require('getContainerVersion');\nconst logToConsole = require('logToConsole');\nconst sha256Sync = require('sha256Sync');\nconst makeString = require('makeString');\nconst getRequestHeader = require('getRequestHeader');\nconst parseUrl = require('parseUrl');\nconst decodeUriComponent = require('decodeUriComponent');\nconst getType = require('getType');\nconst getTimestampMillis = require('getTimestampMillis');\nconst Math = require('Math');\nconst makeInteger = require('makeInteger');\nconst generateRandom = require('generateRandom');\nconst BigQuery = require('BigQuery');\n\n/**********************************************************************************************/\n\nconst traceId = getRequestHeader('trace-id');\nconst gtmVersion = 'stape_2_0_1';\n\nconst eventData = getAllEventData();\n\nif (!isConsentGivenOrNotRequired()) {\n  return data.gtmOnSuccess();\n}\n\nconst url = eventData.page_location || getRequestHeader('referer');\nif (url && url.lastIndexOf('https://gtm-msr.appspot.com/', 0) === 0) {\n  return data.gtmOnSuccess();\n}\n\nconst commonCookie = eventData.common_cookie || {};\n\nlet ttclid = getCookieValues('ttclid')[0] || commonCookie.ttclid || eventData.ttclid;\nif (url) {\n  const urlParsed = parseUrl(url);\n  if (urlParsed && urlParsed.searchParams.ttclid) {\n    ttclid = decodeUriComponent(urlParsed.searchParams.ttclid);\n  }\n}\n\nlet ttp = getCookieValues('_ttp')[0] || commonCookie._ttp || eventData._ttp;\nif (!ttp && data.generateTtp) {\n  ttp = generateTtp();\n}\n\nif (ttclid) {\n  setCookie('ttclid', ttclid, {\n    domain: 'auto',\n    path: '/',\n    samesite: 'Lax',\n    secure: true,\n    'max-age': 2592000, // 30 days\n    httpOnly: false\n  });\n}\n\nif (ttp) {\n  setCookie('_ttp', ttp, {\n    domain: 'auto',\n    path: '/',\n    samesite: 'Lax',\n    secure: true,\n    'max-age': 34190000, // 13 months\n    httpOnly: false\n  });\n}\n\nconst apiVersion = '1.3';\nconst postUrl = 'https://business-api.tiktok.com/open_api/v' + apiVersion + '/event/track/';\nconst eventName = getEventName(eventData, data);\nconst postBody = mapEvent(eventData, data);\n\nlog({\n  Name: 'TikTok',\n  Type: 'Request',\n  TraceId: traceId,\n  EventName: eventName,\n  RequestMethod: 'POST',\n  RequestUrl: postUrl,\n  RequestBody: postBody\n});\n\nsendHttpRequest(\n  postUrl,\n  (statusCode, headers, body) => {\n    log({\n      Name: 'TikTok',\n      Type: 'Response',\n      TraceId: traceId,\n      EventName: eventName,\n      ResponseStatusCode: statusCode,\n      ResponseHeaders: headers,\n      ResponseBody: body\n    });\n\n    if (!data.useOptimisticScenario) {\n      if (statusCode >= 200 && statusCode < 400) {\n        data.gtmOnSuccess();\n      } else {\n        data.gtmOnFailure();\n      }\n    }\n  },\n  {\n    headers: {\n      'Content-Type': 'application/json',\n      'Access-Token': data.accessToken\n    },\n    method: 'POST'\n  },\n  JSON.stringify(postBody)\n);\n\nif (data.useOptimisticScenario) {\n  data.gtmOnSuccess();\n}\n\n/**********************************************************************************************/\n// Vendor related functions\n\nfunction mapEvent(eventData, data) {\n  const eventSource = data.eventSource || 'web';\n  let mappedData = {\n    event: eventName,\n    event_time: getEventTime(eventData)\n  };\n\n  mappedData = addEventId(mappedData, eventData);\n\n  if (eventSource === 'web') {\n    addPageData(mappedData, eventData);\n  }\n\n  if (eventSource === 'app') {\n    addAppData(mappedData, eventData);\n  }\n\n  if (eventSource === 'web' || eventSource === 'app') {\n    mappedData.limited_data_use = data.limitedDataUse || false;\n  }\n\n  mappedData = addUserData(eventData, mappedData, eventSource);\n  mappedData = addPropertiesData(eventData, mappedData);\n  mappedData = hashDataIfNeeded(mappedData);\n\n  const requestData = {\n    event_source: eventSource,\n    event_source_id: data.pixelId,\n    data: [mappedData]\n  };\n  const testEventCode = eventData.test_event_code || data.testEventCode;\n  if (testEventCode) requestData.test_event_code = testEventCode;\n\n  return requestData;\n}\n\nfunction hashData(value) {\n  if (!value) {\n    return value;\n  }\n\n  const type = getType(value);\n\n  if (type === 'undefined' || value === 'undefined') {\n    return undefined;\n  }\n\n  if (type === 'object') {\n    return value.map((val) => {\n      return hashData(val);\n    });\n  }\n\n  if (isHashed(value)) {\n    return value;\n  }\n\n  return sha256Sync(makeString(value).trim().toLowerCase(), {\n    outputEncoding: 'hex'\n  });\n}\n\nfunction hashDataIfNeeded(mappedData) {\n  if (mappedData.user) {\n    const userDataKeysToHash = ['external_id', 'phone', 'email', 'first_name', 'last_name', 'zip_code'];\n    for (let key in mappedData.user) {\n      if (userDataKeysToHash.indexOf(key) !== -1) {\n        mappedData.user[key] = hashData(mappedData.user[key]);\n      }\n    }\n  }\n\n  return mappedData;\n}\n\nfunction addPropertiesData(eventData, mappedData) {\n  mappedData.properties = {};\n\n  if (eventData.content_type) mappedData.properties.content_type = eventData.content_type;\n  else if (eventData.items && eventData.items[0]) mappedData.properties.content_type = 'product';\n\n  if (eventData.currency) mappedData.properties.currency = eventData.currency;\n\n  if (eventData.value) mappedData.properties.value = eventData.value;\n  else if (eventData['x-ga-mp1-ev']) mappedData.properties.value = eventData['x-ga-mp1-ev'];\n  else if (eventData['x-ga-mp1-tr']) mappedData.properties.value = eventData['x-ga-mp1-tr'];\n\n  if (eventData.query) mappedData.properties.query = eventData.query;\n  if (eventData.description) mappedData.properties.description = eventData.description;\n  if (eventData.order_id) mappedData.properties.order_id = eventData.order_id;\n  if (eventData.shop_id) mappedData.properties.shop_id = eventData.shop_id;\n\n  if (eventData.contents) mappedData.properties.contents = eventData.contents;\n  else if (eventData.items && eventData.items[0]) {\n    mappedData.properties.contents = [];\n\n    eventData.items.forEach((d) => {\n      const item = {};\n\n      if (d.price) item.price = d.price;\n      if (d.quantity) item.quantity = d.quantity;\n\n      if (d.item_id) item.content_id = makeString(d.item_id);\n      else if (d.id) item.content_id = makeString(d.id);\n\n      if (d.content_category) item.content_category = d.content_category;\n      else if (d.item_category) item.content_category = d.item_category;\n\n      if (d.content_name) item.content_name = d.content_name;\n      else if (d.item_name) item.content_name = d.item_name;\n\n      if (d.brand) item.brand = d.brand;\n      else if (d.item_brand) item.brand = d.item_brand;\n\n      mappedData.properties.contents.push(item);\n    });\n  }\n\n  if (data.customDataList) {\n    data.customDataList.forEach((d) => {\n      if (isValidValue(d.value)) {\n        mappedData.properties[d.name] = d.value;\n      }\n    });\n  }\n\n  mappedData.properties.gtm_version = gtmVersion;\n\n  return mappedData;\n}\n\nfunction addUserData(eventData, mappedData, eventSource) {\n  mappedData.user = {};\n  let userEventData = {};\n  let address = {};\n  if (getType(eventData.user_data) === 'object') {\n    userEventData = eventData.user_data;\n    const addressType = getType(userEventData.address);\n    if (addressType === 'object' || addressType === 'array') {\n      address = userEventData.address[0] || userEventData.address;\n    }\n  }\n\n  if (eventData.email) mappedData.user.email = eventData.email;\n  else if (eventData.email_address) mappedData.user.email = eventData.email_address;\n  else if (userEventData.email) mappedData.user.email = userEventData.email;\n  else if (userEventData.email_address) mappedData.user.email = userEventData.email_address;\n\n  if (eventData.phone) mappedData.user.phone = eventData.phone;\n  else if (eventData.phone_number) mappedData.user.phone = eventData.phone_number;\n  else if (userEventData.phone) mappedData.user.phone = userEventData.phone;\n  else if (userEventData.phone_number) mappedData.user.phone = userEventData.phone_number;\n\n  if (eventData.lastName) mappedData.user.last_name = eventData.lastName;\n  else if (eventData.LastName) mappedData.user.last_name = eventData.LastName;\n  else if (eventData.nameLast) mappedData.user.last_name = eventData.nameLast;\n  else if (eventData.last_name) mappedData.user.last_name = eventData.last_name;\n  else if (userEventData.last_name) mappedData.user.last_name = userEventData.last_name;\n  else if (address.last_name) mappedData.user.last_name = address.last_name;\n\n  if (eventData.firstName) mappedData.user.first_name = eventData.firstName;\n  else if (eventData.FirstName) mappedData.user.first_name = eventData.FirstName;\n  else if (eventData.nameFirst) mappedData.user.first_name = eventData.nameFirst;\n  else if (eventData.first_name) mappedData.user.first_name = eventData.first_name;\n  else if (userEventData.first_name) mappedData.user.first_name = userEventData.first_name;\n  else if (address.first_name) mappedData.user.first_name = address.first_name;\n\n  if (eventData.city) mappedData.user.city = eventData.city;\n  else if (address.city) mappedData.user.city = address.city;\n\n  if (eventData.state) mappedData.user.state = eventData.state;\n  else if (eventData.region) mappedData.user.state = eventData.region;\n  else if (userEventData.region) mappedData.user.state = userEventData.region;\n  else if (address.region) mappedData.user.state = address.region;\n\n  if (eventData.zip) mappedData.user.zip_code = eventData.zip;\n  else if (eventData.postal_code) mappedData.user.zip_code = eventData.postal_code;\n  else if (userEventData.postal_code) mappedData.user.zip_code = userEventData.postal_code;\n  else if (address.postal_code) mappedData.user.zip_code = address.postal_code;\n\n  if (eventData.countryCode) mappedData.user.country = eventData.countryCode;\n  else if (eventData.country) mappedData.user.country = eventData.country;\n  else if (userEventData.country) mappedData.user.country = userEventData.country;\n  else if (address.country) mappedData.user.country = address.country;\n\n  if (eventSource === 'web') {\n    if (ttclid) mappedData.user.ttclid = ttclid;\n    else if (eventData.ttclid) mappedData.user.ttclid = eventData.ttclid;\n    else if (userEventData.ttclid) mappedData.user.ttclid = userEventData.ttclid;\n\n    if (ttp) mappedData.user.ttp = ttp;\n    else if (eventData.ttp) mappedData.user.ttp = eventData.ttp;\n    else if (userEventData.ttp) mappedData.user.ttp = userEventData.ttp;\n\n    if (eventData.external_id) mappedData.user.external_id = eventData.external_id;\n    else if (eventData.user_id) mappedData.user.external_id = eventData.user_id;\n    else if (eventData.userId) mappedData.user.external_id = eventData.userId;\n    else if (userEventData.external_id) mappedData.user.external_id = userEventData.external_id;\n\n    if (eventData.ip_override) mappedData.user.ip = eventData.ip_override;\n    else if (eventData.ip_address) mappedData.user.ip = eventData.ip_address;\n    else if (eventData.ip) mappedData.user.ip = eventData.ip;\n\n    if (eventData.user_agent) mappedData.user.user_agent = eventData.user_agent;\n  }\n\n  if (eventSource === 'app') {\n    if (eventData.idfa) mappedData.user.idfa = eventData.idfa;\n    else if (userEventData.idfv) mappedData.user.idfv = userEventData.idfv;\n\n    if (eventData.idfv) mappedData.user.idfv = eventData.idfv;\n    else if (userEventData.idfv) mappedData.user.idfv = userEventData.idfv;\n\n    if (eventData.gaid) mappedData.user.gaid = eventData.gaid;\n    else if (userEventData.gaid) mappedData.user.gaid = userEventData.gaid;\n\n    if (eventData.att_status) mappedData.user.att_status = eventData.att_status;\n    else if (userEventData.att_status) mappedData.user.att_status = userEventData.att_status;\n  }\n\n  if (eventSource === 'web' || eventSource === 'app') {\n    if (eventData.locale) mappedData.user.locale = eventData.locale;\n    else if (userEventData.locale) mappedData.user.locale = userEventData.locale;\n  }\n\n  if (data.userDataList) {\n    data.userDataList.forEach((d) => {\n      if (isValidValue(d.value)) {\n        mappedData.user[d.name] = d.value;\n      }\n    });\n  }\n\n  return mappedData;\n}\n\nfunction getEventName(eventData, data) {\n  if (data.eventType === 'inherit') {\n    const eventName = eventData.event_name;\n\n    const gaToEventName = {\n      page_view: 'Pageview',\n      click: 'ClickButton',\n      download: 'Download',\n      file_download: 'Download',\n      complete_registration: 'CompleteRegistration',\n      'gtm.dom': 'Pageview',\n      add_payment_info: 'AddPaymentInfo',\n      add_to_cart: 'AddToCart',\n      add_to_wishlist: 'AddToWishlist',\n      sign_up: 'CompleteRegistration',\n      begin_checkout: 'InitiateCheckout',\n      generate_lead: 'Lead',\n      purchase: 'Purchase',\n      search: 'Search',\n      view_item: 'ViewContent',\n\n      contact: 'Contact',\n      find_location: 'Search',\n      submit_application: 'Subscribe',\n      subscribe: 'Subscribe',\n\n      'gtm4wp.addProductToCartEEC': 'AddToCart',\n      'gtm4wp.productClickEEC': 'ViewContent',\n      'gtm4wp.checkoutOptionEEC': 'InitiateCheckout',\n      'gtm4wp.checkoutStepEEC': 'AddPaymentInfo',\n      'gtm4wp.orderCompletedEEC': 'Purchase'\n    };\n\n    if (!gaToEventName[eventName]) {\n      return eventName;\n    }\n\n    return gaToEventName[eventName];\n  }\n\n  return data.eventType === 'custom' ? data.eventNameCustom : data.eventName;\n}\n\nfunction addEventId(mappedData, eventData) {\n  if (data.eventId) mappedData.event_id = data.eventId;\n  else if (eventData.event_id) mappedData.event_id = eventData.event_id;\n  else if (eventData.transaction_id) mappedData.event_id = eventData.transaction_id;\n\n  return mappedData;\n}\n\nfunction getEventTime(eventData) {\n  if (data.eventTime) return makeInteger(data.eventTime);\n  else if (eventData.event_time) return makeInteger(eventData.event_time);\n\n  return Math.round(getTimestampMillis() / 1000);\n}\n\nfunction addPageData(mappedData, eventData) {\n  mappedData.page = {\n    url: data.pageLocation || eventData.page_location\n  };\n\n  if (data.pageReferrer) mappedData.page.referrer = data.pageReferrer;\n  else if (eventData.page_referrer) mappedData.page.referrer = eventData.page_referrer;\n  else if (eventData.referrer) mappedData.page.referrer = eventData.referrer;\n\n  return mappedData;\n}\n\nfunction addAppData(mappedData, eventData) {\n  mappedData.app = {\n    app_id: data.appId\n  };\n\n  if (data.appName) mappedData.app.app_name = data.appName;\n  else if (eventData.app_name) mappedData.app.app_name = eventData.app_name;\n\n  if (data.appVersion) mappedData.app.app_version = data.appVersion;\n  else if (eventData.app_version) mappedData.app.app_version = eventData.app_version;\n\n  let adEventData = {};\n  mappedData.ad = {};\n\n  if (getType(eventData.ad) === 'object') {\n    adEventData = eventData.ad;\n  }\n\n  if (adEventData.callback) mappedData.ad.callback = adEventData.callback;\n  else if (eventData.callback) mappedData.ad.callback = eventData.callback;\n\n  if (adEventData.campaign_id) mappedData.ad.campaign_id = adEventData.campaign_id;\n  else if (eventData.campaign_id) mappedData.ad.campaign_id = eventData.campaign_id;\n\n  if (adEventData.ad_id) mappedData.ad.ad_id = adEventData.ad_id;\n  else if (eventData.ad_id) mappedData.ad.ad_id = eventData.ad_id;\n\n  if (adEventData.creative_id) mappedData.ad.creative_id = adEventData.creative_id;\n  else if (eventData.creative_id) mappedData.ad.creative_id = eventData.creative_id;\n\n  if (adEventData.is_retargeting) mappedData.ad.is_retargeting = adEventData.is_retargeting;\n  else if (eventData.is_retargeting) mappedData.ad.is_retargeting = eventData.is_retargeting;\n\n  if (adEventData.attributed) mappedData.ad.attributed = adEventData.attributed;\n  else if (eventData.attributed) mappedData.ad.attributed = eventData.attributed;\n\n  if (adEventData.attribution_type) mappedData.ad.attribution_type = adEventData.attribution_type;\n  else if (eventData.attribution_type) mappedData.ad.attribution_type = eventData.attribution_type;\n\n  if (adEventData.attribution_provider) mappedData.ad.attribution_provider = adEventData.attribution_provider;\n  else if (eventData.attribution_provider) mappedData.ad.attribution_provider = eventData.attribution_provider;\n\n  if (data.adDataList) {\n    data.adDataList.forEach((d) => {\n      if (isValidValue(d.value)) {\n        mappedData.ad[d.name] = d.value;\n      }\n    });\n  }\n\n  return mappedData;\n}\n\nfunction generateTtp() {\n  const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n  let result = '';\n\n  for (let i = 0; i < 27; i++) {\n    const randomIndex = generateRandom(0, characters.length - 1);\n    result += characters.charAt(randomIndex);\n  }\n\n  return result;\n}\n\n/**********************************************************************************************/\n// Helpers\n\nfunction isHashed(value) {\n  if (!value) return false;\n  return makeString(value).match('^[A-Fa-f0-9]{64}$') !== null;\n}\n\nfunction isValidValue(value) {\n  const valueType = getType(value);\n  return valueType !== 'null' && valueType !== 'undefined' && value !== '';\n}\n\nfunction isConsentGivenOrNotRequired() {\n  if (data.adStorageConsent !== 'required') return true;\n  if (eventData.consent_state) return !!eventData.consent_state.ad_storage;\n  const xGaGcs = eventData['x-ga-gcs'] || ''; // x-ga-gcs is a string like \"G110\"\n  return xGaGcs[2] === '1';\n}\n\nfunction log(rawDataToLog) {\n  const logDestinationsHandlers = {};\n  if (determinateIsLoggingEnabled()) logDestinationsHandlers.console = logConsole;\n  if (determinateIsLoggingEnabledForBigQuery()) logDestinationsHandlers.bigQuery = logToBigQuery;\n\n  const keyMappings = {\n    // No transformation for Console is needed.\n    bigQuery: {\n      Name: 'tag_name',\n      Type: 'type',\n      TraceId: 'trace_id',\n      EventName: 'event_name',\n      RequestMethod: 'request_method',\n      RequestUrl: 'request_url',\n      RequestBody: 'request_body',\n      ResponseStatusCode: 'response_status_code',\n      ResponseHeaders: 'response_headers',\n      ResponseBody: 'response_body'\n    }\n  };\n\n  for (const logDestination in logDestinationsHandlers) {\n    const handler = logDestinationsHandlers[logDestination];\n    if (!handler) continue;\n\n    const mapping = keyMappings[logDestination];\n    const dataToLog = mapping ? {} : rawDataToLog;\n\n    if (mapping) {\n      for (const key in rawDataToLog) {\n        const mappedKey = mapping[key] || key;\n        dataToLog[mappedKey] = rawDataToLog[key];\n      }\n    }\n\n    handler(dataToLog);\n  }\n}\n\nfunction logConsole(dataToLog) {\n  logToConsole(JSON.stringify(dataToLog));\n}\n\nfunction logToBigQuery(dataToLog) {\n  const connectionInfo = {\n    projectId: data.logBigQueryProjectId,\n    datasetId: data.logBigQueryDatasetId,\n    tableId: data.logBigQueryTableId\n  };\n\n  dataToLog.timestamp = getTimestampMillis();\n\n  ['request_body', 'response_headers', 'response_body'].forEach((p) => {\n    dataToLog[p] = JSON.stringify(dataToLog[p]);\n  });\n\n  const bigquery = getType(BigQuery) === 'function' ? BigQuery() /* Only during Unit Tests */ : BigQuery;\n  bigquery.insert(connectionInfo, [dataToLog], { ignoreUnknownValues: true });\n}\n\nfunction determinateIsLoggingEnabled() {\n  const containerVersion = getContainerVersion();\n  const isDebug = !!(containerVersion && (containerVersion.debugMode || containerVersion.previewMode));\n\n  if (!data.logType) {\n    return isDebug;\n  }\n\n  if (data.logType === 'no') {\n    return false;\n  }\n\n  if (data.logType === 'debug') {\n    return isDebug;\n  }\n\n  return data.logType === 'always';\n}\n\nfunction determinateIsLoggingEnabledForBigQuery() {\n  if (data.bigQueryLogType === 'no') return false;\n  return data.bigQueryLogType === 'always';\n}\n\n\n___SERVER_PERMISSIONS___\n\n[\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"read_event_data\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"eventDataAccess\",\n          \"value\": {\n            \"type\": 1,\n            \"string\": \"any\"\n          }\n        }\n      ]\n    },\n    \"clientAnnotations\": {\n      \"isEditedByUser\": true\n    },\n    \"isRequired\": true\n  },\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"set_cookies\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"allowedCookies\",\n          \"value\": {\n            \"type\": 2,\n            \"listItem\": [\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"name\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"domain\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"path\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"secure\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"session\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"ttclid\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"*\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"*\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"any\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"any\"\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"name\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"domain\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"path\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"secure\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"session\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"_ttp\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"*\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"*\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"any\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"any\"\n                  }\n                ]\n              }\n            ]\n          }\n        }\n      ]\n    },\n    \"clientAnnotations\": {\n      \"isEditedByUser\": true\n    },\n    \"isRequired\": true\n  },\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"send_http\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"allowedUrls\",\n          \"value\": {\n            \"type\": 1,\n            \"string\": \"specific\"\n          }\n        },\n        {\n          \"key\": \"urls\",\n          \"value\": {\n            \"type\": 2,\n            \"listItem\": [\n              {\n                \"type\": 1,\n                \"string\": \"https://business-api.tiktok.com/\"\n              }\n            ]\n          }\n        }\n      ]\n    },\n    \"clientAnnotations\": {\n      \"isEditedByUser\": true\n    },\n    \"isRequired\": true\n  },\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"get_cookies\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"cookieAccess\",\n          \"value\": {\n            \"type\": 1,\n            \"string\": \"specific\"\n          }\n        },\n        {\n          \"key\": \"cookieNames\",\n          \"value\": {\n            \"type\": 2,\n            \"listItem\": [\n              {\n                \"type\": 1,\n                \"string\": \"ttclid\"\n              },\n              {\n                \"type\": 1,\n                \"string\": \"_ttp\"\n              }\n            ]\n          }\n        }\n      ]\n    },\n    \"clientAnnotations\": {\n      \"isEditedByUser\": true\n    },\n    \"isRequired\": true\n  },\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"logging\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"environments\",\n          \"value\": {\n            \"type\": 1,\n            \"string\": \"all\"\n          }\n        }\n      ]\n    },\n    \"clientAnnotations\": {\n      \"isEditedByUser\": true\n    },\n    \"isRequired\": true\n  },\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"read_container_data\",\n        \"versionId\": \"1\"\n      },\n      \"param\": []\n    },\n    \"isRequired\": true\n  },\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"read_request\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"headerWhitelist\",\n          \"value\": {\n            \"type\": 2,\n            \"listItem\": [\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"headerName\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"trace-id\"\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"headerName\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"referer\"\n                  }\n                ]\n              }\n            ]\n          }\n        },\n        {\n          \"key\": \"headersAllowed\",\n          \"value\": {\n            \"type\": 8,\n            \"boolean\": true\n          }\n        },\n        {\n          \"key\": \"requestAccess\",\n          \"value\": {\n            \"type\": 1,\n            \"string\": \"specific\"\n          }\n        },\n        {\n          \"key\": \"headerAccess\",\n          \"value\": {\n            \"type\": 1,\n            \"string\": \"specific\"\n          }\n        },\n        {\n          \"key\": \"queryParameterAccess\",\n          \"value\": {\n            \"type\": 1,\n            \"string\": \"any\"\n          }\n        }\n      ]\n    },\n    \"clientAnnotations\": {\n      \"isEditedByUser\": true\n    },\n    \"isRequired\": true\n  },\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"access_bigquery\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"allowedTables\",\n          \"value\": {\n            \"type\": 2,\n            \"listItem\": [\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"projectId\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"datasetId\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"tableId\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"operation\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"*\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"*\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"*\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  }\n                ]\n              }\n            ]\n          }\n        }\n      ]\n    },\n    \"clientAnnotations\": {\n      \"isEditedByUser\": true\n    },\n    \"isRequired\": true\n  }\n]\n\n\n___TESTS___\n\nscenarios:\n- name: Should log to console, if the 'Always log to console' option is selected\n  code: \"mockData.logType = 'always';\\n\\nconst expectedDebugMode = true;\\nmock('getContainerVersion',\\\n    \\ () => {\\n  return {\\n    debugMode: expectedDebugMode\\n  };\\n}); \\n\\nmock('logToConsole',\\\n    \\ (logData) => {\\n  const parsedLogData = JSON.parse(logData);\\n  requiredConsoleKeys.forEach(p\\\n    \\ => assertThat(parsedLogData[p]).isDefined());\\n});\\n\\nmock('sendHttpRequest',\\\n    \\ (requestUrl, callback, requestOptions) => {\\n  callback(200);\\n});\\n\\nrunCode(mockData);\\n\\\n    \\nassertApi('logToConsole').wasCalled();\\nassertApi('gtmOnSuccess').wasCalled();\\n\\\n    assertApi('gtmOnFailure').wasNotCalled();\\n\"\n- name: Should log to console, if the 'Log during debug and preview' option is selected\n    AND is on preview mode\n  code: |-\n    mockData.logType = 'debug';\n\n    const expectedDebugMode = true;\n    mock('getContainerVersion', () => {\n      return {\n        debugMode: expectedDebugMode\n      };\n    });\n\n    mock('logToConsole', (logData) => {\n      const parsedLogData = JSON.parse(logData);\n      requiredConsoleKeys.forEach(p => assertThat(parsedLogData[p]).isDefined());\n    });\n\n    mock('sendHttpRequest', (requestUrl, callback, requestOptions) => {\n      callback(200);\n    });\n\n    runCode(mockData);\n\n    assertApi('logToConsole').wasCalled();\n    assertApi('gtmOnSuccess').wasCalled();\n    assertApi('gtmOnFailure').wasNotCalled();\n- name: Should NOT log to console, if the 'Log during debug and preview' option is\n    selected AND is NOT on preview mode\n  code: |-\n    mockData.logType = 'debug';\n\n    const expectedDebugMode = false;\n    mock('getContainerVersion', () => {\n      return {\n        debugMode: expectedDebugMode\n      };\n    });\n\n    mock('sendHttpRequest', (requestUrl, callback, requestOptions) => {\n      callback(200);\n    });\n\n    runCode(mockData);\n\n    assertApi('logToConsole').wasNotCalled();\n    assertApi('gtmOnSuccess').wasCalled();\n    assertApi('gtmOnFailure').wasNotCalled();\n- name: Should NOT log to console, if the 'Do not log' option is selected\n  code: |-\n    mockData.logType = 'no';\n\n    mock('sendHttpRequest', (requestUrl, callback, requestOptions) => {\n      callback(200);\n    });\n\n    runCode(mockData);\n\n    assertApi('logToConsole').wasNotCalled();\n    assertApi('gtmOnSuccess').wasCalled();\n    assertApi('gtmOnFailure').wasNotCalled();\n- name: Should log to BQ, if the 'Log to BigQuery' option is selected\n  code: \"mockData.bigQueryLogType = 'always';\\n\\n// assertApi doesn't work for 'BigQuery.insert()'.\\n\\\n    // Ref: https://gtm-gear.com/posts/gtm-templates-testing/\\nmock('BigQuery', ()\\\n    \\ => {\\n  return { \\n    insert: (connectionInfo, rows, options) => { \\n     \\\n    \\ assertThat(connectionInfo).isDefined();\\n      assertThat(rows).isArray();\\n\\\n    \\      assertThat(rows).hasLength(1);\\n      requiredBqKeys.forEach(p => assertThat(rows[0][p]).isDefined());\\n\\\n    \\      assertThat(options).isEqualTo(expectedBqOptions);\\n      return Promise.create((resolve,\\\n    \\ reject) => {\\n        resolve();\\n      });\\n    }\\n  };\\n});\\n\\nmock('sendHttpRequest',\\\n    \\ (requestUrl, callback, requestOptions) => {\\n  callback(200);\\n});\\n\\nrunCode(mockData);\\n\\\n    \\nassertApi('gtmOnSuccess').wasCalled();\\nassertApi('gtmOnFailure').wasNotCalled();\"\n- name: Should NOT log to BQ, if the 'Do not log to BigQuery' option is selected\n  code: \"mockData.bigQueryLogType = 'no';\\n\\n// assertApi doesn't work for 'BigQuery.insert()'.\\n\\\n    // Ref: https://gtm-gear.com/posts/gtm-templates-testing/\\nmock('BigQuery', ()\\\n    \\ => {\\n  return { \\n    insert: (connectionInfo, rows, options) => { \\n     \\\n    \\ fail('BigQuery.insert should not have been called.');\\n      return Promise.create((resolve,\\\n    \\ reject) => {\\n        resolve();\\n      });\\n    }\\n  };\\n});\\n\\nmock('sendHttpRequest',\\\n    \\ (requestUrl, callback, requestOptions) => {\\n  callback(200);\\n});\\n\\nrunCode(mockData);\\n\\\n    \\n// Workaround because assertApi('gtmOn*').wasCalled() doesn't work for some\\\n    \\ reason.\\nmock('gtmOnSuccess', () => assertThat(true).isTrue());\\nmock('gtmOnFailure',\\\n    \\ () => fail('gtmOnFailure should not have been called'));\"\nsetup: |-\n  const JSON = require('JSON');\n  const Promise = require('Promise');\n\n  const expectedBigQuerySettings = {\n    logBigQueryProjectId: 'logBigQueryProjectId',\n    logBigQueryDatasetId: 'logBigQueryDatasetId',\n    logBigQueryTableId: 'logBigQueryTableId'\n  };\n  const requiredConsoleKeys = ['Type', 'TraceId', 'Name'];\n  const requiredBqKeys = ['timestamp', 'type', 'trace_id', 'tag_name'];\n  const expectedBqOptions = { ignoreUnknownValues: true };\n\n  const expectedValue = 'test';\n  const expectedPixelId = '1111111111111';\n\n  const mockData = {\n    logBigQueryProjectId: expectedBigQuerySettings.logBigQueryProjectId,\n    logBigQueryDatasetId: expectedBigQuerySettings.logBigQueryDatasetId,\n    logBigQueryTableId: expectedBigQuerySettings.logBigQueryTableId,\n    eventType: 'custom',\n    accessToken: expectedValue,\n    pixelId: expectedPixelId,\n    eventName: expectedValue\n  };\n\n  mock('getRequestHeader', (header) => {\n    if (header === 'trace-id') return 'expectedTraceId';\n  });\n\n\n___NOTES___\n\nCreated on 10/11/2020, 18:14:02\n\n\n",
                "galleryReference": {
                    "host": "github.com",
                    "owner": "stape-io",
                    "repository": "tiktok-tag",
                    "version": "d80eb41f2f2ff40b042a0e4543221fe9c470047c",
                    "signature": "a7fce792e7f7f5b8a627d5fcf8898d321c628e310cd4421646305d1684ce20f7",
                    "galleryTemplateId": "K8M24"
                }
            }
        ],
        "client": [
            {
                "accountId": "6316794338",
                "containerId": "232065622",
                "clientId": "31",
                "name": "GA4",
                "type": "gaaw_client",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "cookieDomain",
                        "value": "auto"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "cookieMaxAgeInSec",
                        "value": "63072000"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "activateDefaultPaths",
                        "value": "true"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "cookiePath",
                        "value": "/"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "migrateFromJsClientId",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "cookieManagement",
                        "value": "server"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "cookieName",
                        "value": "FPID"
                    }
                ],
                "fingerprint": "1761644972214"
            }
        ],
        "transformation": [
            {
                "accountId": "6316794338",
                "containerId": "232065622",
                "transformationId": "35",
                "name": "GA4 Transformation Exclude",
                "type": "tf_exclude_params",
                "parameter": [
                    {
                        "type": "LIST",
                        "key": "excludedParamsTable",
                        "list": [
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "excludedParams",
                                        "value": "content_type"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "excludedParams",
                                        "value": "event_time"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "excludedParams",
                                        "value": "event_id"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "excludedParams",
                                        "value": "ttclid"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "excludedParams",
                                        "value": "ttp"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "matchingConditionsEnabled",
                        "value": "false"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "allTagsExcept",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "booleanExpressionString"
                    },
                    {
                        "type": "LIST",
                        "key": "affectedTags",
                        "list": [
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TAG_REFERENCE",
                                        "key": "tagReference",
                                        "value": "Google Analytics GA4",
                                        "isWeakReference": false
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "type": "LIST",
                        "key": "affectedTagTypes"
                    }
                ],
                "fingerprint": "1761711220068"
            }
        ]
    }
}